{% extends '_layout.njk' %}
{% import '_macro/sidebar.njk' as sidebar_template with context %}

{% block title %}{{ __('title.diary') }} | {{ title }}{% endblock %}

{% block class %}index posts-expand{% endblock %}

{% block content %}
  <div class="post-block" lang="{{ page.lang }}">
    <header class="post-header">

    <h1 class="post-title" itemprop="name headline">
      {{- __('title.diary') }}
      {{- post_edit(page.source) }}
    </h1>

    <div class="post-meta-container">
      {%- if page.description %}
        <div class="post-description">{{ page.description }}</div>
      {%- endif %}
      {%- include '_partials/page/breadcrumb.njk' -%}
    </div>

    </header>
  </div>

  {%- for post in page.posts.toArray() %}
    {{ partial('_macro/post.njk', {post: post, is_index: true}) }}
  {%- endfor %}

  {%- include '_partials/pagination.njk' -%}

{% endblock %}

{% block sidebar %}
  {{ sidebar_template.render(false) }}
{% endblock %}

